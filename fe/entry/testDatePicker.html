<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>wuqi</title>
    <link rel="stylesheet" type="text/css" href="/src/home/index.less" />
    <script src="http://s1.bdstatic.com/r/www/cache/ecom/esl/1-8-2/esl.js"></script>
    <script>
        require.config({
            'baseUrl': '/src',
            'paths': {
            },
            'packages': [
                {
                    'name': 'echarts',
                    'location': '../dep/echarts/2.1.9/src',
                    'main': 'echarts'
                },
                {
                    'name': 'est',
                    'location': '../dep/est/1.3.0/src'
                },
                {
                    'name': 'etpl',
                    'location': '../dep/etpl/3.0.0/src',
                    'main': 'main'
                },
                {
                    'name': 'jquery',
                    'location': '../dep/jquery/1.9.1/src',
                    'main': 'jquery.min'
                },
                {
                    'name': 'moment',
                    'location': '../dep/moment/2.7.0/src',
                    'main': 'moment'
                },
                {
                    'name': 'saber-emitter',
                    'location': '../dep/saber-emitter/1.0.0/src',
                    'main': 'emitter'
                },
                {
                    'name': 'zrender',
                    'location': '../dep/zrender/2.0.6/src',
                    'main': 'zrender'
                }
            ]
        });
    </script>
</head>
<body>
    <div class="test" style="text-align: center">
        <input type="text" id="test" data-date="2014-11-11" value="2014-11-11" />
        <input type="text" id="test2" />
    </div>

    <script>
        require(['common/ui/Datepicker/Datepicker', 'jquery'], function(Datepicker, $) {
            var startTime = new Date().getTime();
            var endTime;
            $('#test').datepicker({
                format: 'yyyy-mm-dd'
            }).on('changeDate', function (e) {
                startTime = e.date.getTime();
            });

            $('#test2').datepicker({
                format: 'yyyy-mm-dd'
            }).on('changeDate', function (e) {
                if (e.date.getTime() < startTime) {
                    alert('结束时间必须大于开始时间');
                    $(this).val('');
                }
                else {
                    endTime = e.date.getTime();
                }
            });


        });
    </script>
</body>
</html>
