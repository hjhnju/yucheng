define("setting/login/index",function(require){function i(i){o=i||"login",l.init(),r.init(),n(),e()}function n(){t(".login .login-input").on({focus:function(){var i=t(this).parent(),n=i.children(".username-error");i.removeClass("current"),n.html(""),t(this).next().addClass("hidden")},blur:function(){var i=t.trim(t(this).val());!i&&t(this).next().removeClass("hidden")}}),t("#login-testing").focus(function(){f.html("")}),m.click(function(i){i.preventDefault(),t(this).attr("src",u+o)}),t(".login .login-fastlogin").click(function(i){i.preventDefault();var n=t.trim(t("#login-user").val()),e=t.trim(t("#login-pwd").val()),r=t.trim(t("#login-testing").val());if(!n||!e)return void f.html("用户名或密码不能为空");if(!t(".login-username").hasClass("login-display-none")){if(!r)return void f.html("验证码不能为空");g.remote({name:n,passwd:e,imagecode:r,type:o,isthird:"login"===o?0:1})}else g.remote({name:n,passwd:e,type:o,isthird:"login"===o?0:1})}),t("#login-pwd").keyup(function(i){if(13===i.keyCode)t(".login-fastlogin").trigger("click"),t(this).trigger("blur")}),t("#login-testing").keyup(function(i){if(13===i.keyCode)t(".login-fastlogin").trigger("click"),t(this).trigger("blur")})}function e(){g.on("success",function(i){if(i.imgCode){var n=t(".login-display-none:eq(0)");n.removeClass("login-display-none"),m.attr("src",i.data.url)}else if(i.bizError)t("#login-error").html(i.statusInfo),m.trigger("click");else window.location.href="/account/overview/index"}),c.on("success",function(i){if(i.bizError)alert(i.statusInfo);else t("#login-testing-error").html('<span class="username-error-span"></span>')})}var o,t=require("jquery"),r=require("../common/picScroll"),l=require("common/header"),s=require("common/Remoter"),a=require("common/config"),g=new s("LOGIN_INDEX_CHECK"),c=new s("LOGIN_IMGCODE_CHECK"),u=a.URL.IMG_GET,f=t("#login-error"),m=t("#login-img-url");return{init:i}});