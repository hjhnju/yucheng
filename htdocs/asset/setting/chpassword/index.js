define("setting/chpassword/index",["require","jquery","common/Remoter","etpl","./chpassword.tpl"],function(require){function e(){t(),o.compile(a)}function t(){r(".chpwd-link").click(function(){var e=r("#new-ipt"),t=+e.val(),n=+r("#confirm-new-ipt").val();if(t!==n)return void r("#error").html("两次密码不一致");else return void i.remote({oldpwd:r("#old-ipt").val(),newpwd:e.val()})}),i.on("success",function(e){if(e&&e.bizError)r("#error").html(e.statusInfo);else{var t,n=8;r("#error").html(""),r("#chpwd-box").html(o.render("list")),t=setInterval(function(){if(r("#time-span").text(--n+"秒后自动跳转"),0===n)clearInterval(t),window.location.href="/account/overview/index"},1e3)}})}var r=require("jquery"),n=require("common/Remoter"),i=new n("EDIT_CHPWD_SUBMITE"),o=require("etpl"),a=require("./chpassword.tpl");return{init:e}});