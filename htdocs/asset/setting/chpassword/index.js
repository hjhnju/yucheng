define("setting/chpassword/index",["require","jquery","common/Remoter","etpl","./chpassword.tpl","common/header"],function(require){function e(){t(),o.compile(s),a.init()}function t(){n(".chpwd-link").click(function(){var e=n("#new-ipt"),t=+e.val(),r=+n("#confirm-new-ipt").val();if(t!==r)return void n("#error").html("两次密码不一致");else return void i.remote({oldpwd:n("#old-ipt").val(),newpwd:e.val()})}),i.on("success",function(e){if(e&&e.bizError)n("#error").html(e.statusInfo);else{var t,r=8;n("#error").html(""),n("#chpwd-box").html(o.render("list")),t=setInterval(function(){if(n("#time-span").text(--r+"秒后自动跳转"),0===r)clearInterval(t),window.location.href="/account/overview/index"},1e3)}})}var n=require("jquery"),r=require("common/Remoter"),i=new r("EDIT_CHPWD_SUBMITE"),o=require("etpl"),s=require("./chpassword.tpl"),a=require("common/header");return{init:e}});