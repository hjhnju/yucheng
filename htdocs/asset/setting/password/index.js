define("setting/password/index",function(require){function e(){s.init(),n(".login-input").on({focus:function(){n(this).parent().children(".user-lable").addClass("hidden"),n(this).parent().removeClass("current"),n(this).next().addClass("current"),t.html("")},blur:function(){var e=n(this).val();if(!e)return n(this).next().hasClass("hidden"),n(this).next().removeClass("hidden"),void n(this).parent().addClass("current");else return void 0}}),n("#login-user").blur(function(){var e=n(this).val();if(!e)t.html("用户名不能为空"),l.user=0;else l.user=1}),n("#login-phone").blur(function(){var e=n(this).val();if(!e)t.html("手机号不能为空"),l.phone=0;else l.phone=1,n("#sendsmscode").removeClass("disable")}),n("#login-testing").blur(function(){var e=n(this).val();if(!e)t.html("验证码不能为空"),l.testing=0;else l.testing=1}),n("#sendsmscode").click(function(){var e=n.trim(n("#login-phone").val());if(e&&!n(this).hasClass("disable"))i.remote({phone:e,type:7})}),i.on("success",function(e){var r=60;if(e&&e.bizError)t.html(e.statusInfo);else{var i=n("#testing-wait");i.text("60秒后重新发送"),i.addClass("show"),timer=setInterval(function(){if(i.text(--r+"秒后重新发送"),0>r)clearInterval(timer),i.removeClass("show")},1e3)}}),n("#login-reset").blur(function(){var e=n(this).val();if(!e)t.html("密码不能为空"),l.reset=0;else l.reset=1}),n("#login-affirm").blur(function(){var e=n("#login-reset").val(),r=n(this).val();if(e!==r)return void t.html("两次密码不一致");else return void 0}),n(".login-fastlogin").click(function(){var e=1,r=n("#login-user").val(),i=n("#login-phone").val(),s=n("#login-testing").val(),a=n("#login-reset").val(),u=n("#login-affirm").val();for(var c in l)if(l.hasOwnProperty(c))if(!l[c])n("#login-"+c).trigger("blur"),e=0;if(a!==u)return void t.html("两次密码不一致");else return void(e&&o.remote("post",{user:r,phone:i,vericode:s,passwd:a,type:7}))}),o.on("success",function(e){if(e&&e.bizError)t.html(e.statusInfo);else;})}var n=require("jquery"),r=(n(".login-username").children(".user-lable"),require("common/Remoter")),i=new r("REGIST_SENDSMSCODE_CHECK"),t=n(".error"),o=new r("USER_REGISTAPI_MODIFYPWD"),s=require("common/header"),l={reset:0,testing:0,phone:0,user:0};return{init:e}});