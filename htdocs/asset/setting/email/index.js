define("setting/email/index",["require","jquery","common/Remoter","common/config","etpl","./email.tpl","common/header"],function(require){function e(){t(),a.compile(l),c.init()}function t(){r(".login-input").on({focus:function(){r(this).parent();r(this).next().addClass("hidden")},blur:function(){var e=r(this).val();!e&&r(this).next().removeClass("hidden")}}),r("#email-img").click(function(){r(this).attr("src",m)}),r("#confirm").click(function(){n=r("#login-email").val();var e=r("#login-testing").val();s.remote({email:n,smscode:e,type:4})}),s.on("success",function(e){if(e&&e.bizError)r(".error").html(e.statusInfo);else{var t,i=6;r("#checkemial").html(a.render("list2nd",{email:n})),t=setInterval(function(){if(r("#time-span").text(--i+"秒后自动跳转"),0===i)clearInterval(t),window.location.href="/account/overview/index"},1e3)}})}var n,r=require("jquery"),i=require("common/Remoter"),o=require("common/config"),s=new i("EDIT_EMAILCONFIRM"),a=require("etpl"),l=require("./email.tpl"),m=o.URL.IMG_GET+"email",c=require("common/header");return{init:e}});