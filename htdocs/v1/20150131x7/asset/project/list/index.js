define("project/list/index",["require","jquery","common/Remoter","etpl","./list.tpl","common/ui/Pager/Pager","common/header"],function(require){function e(e){n=i("#invest-main"),c.init(),u.pagesize=+e.pagesize,a.compile(l),t(),r=new m({total:+e.pageall,main:i("#test2"),startPage:1}),r.render(+e.page),r.on("change",function(e){u.page=e.value,s.remote(u)})}function t(){i(".type_id").click(function(){i(".type_id").removeClass("current"),i(this).addClass("current"),u.type_id=+i(this).attr("data-value"),u.page=1,n.html(a.render("Loading")),s.remote("post",u)}),s.on("success",function(e){if(e&&e.bizError)n.html(a.render("Error"),{msg:e.statusInfo});else{if(!e.list.length)return i("#test2").html(""),void n.html(a.render("Error",{msg:"当前还没有数据哟"}));r.setOpt("total",+e.pageall),r.render(+e.page),n.html(a.render("list",{list:e.list}))}}),i(".cat_id").click(function(){i(".cat_id").removeClass("current"),i(this).addClass("current"),u.cat_id=+i(this).attr("data-value"),u.page=1,n.html(a.render("Loading")),s.remote("post",u)}),i(".qixian").click(function(){i(".qixian").removeClass("current"),i(this).addClass("current"),u.duration=+i(this).attr("data-value"),n.html(a.render("Loading")),s.remote("post",u)})}var r,n,i=require("jquery"),o=require("common/Remoter"),s=new o("INVEST_LIST"),a=require("etpl"),l=require("./list.tpl"),m=require("common/ui/Pager/Pager"),c=require("common/header"),u={type_id:0,cat_id:0,duration:0,page:1,pagesize:10};return{init:e}});