define("company/infos/index",["require","jquery","etpl","common/header","common/ui/Pager/Pager","common/data","common/Remoter","./list.tpl"],function(require){function e(e){var l=r("#infos-list");t=e.type,o.init(),i.compile(c),n=new a(r.extend({},s.pagerOpt,{total:+e.pageall,main:r("#pager")})),n.on("change",function(e){l.html(i.render("Loading")),m.remote({page:+e.value,type:t})}),n.render(+e.page),m.on("success",function(e){if(e.bizError)l.html(i.render("Error",{msg:e.statusInfo}));else{if(!e.list.length){if("post"===t)l.html(i.render("Error",{msg:"当前没有公告"}));else l.html(i.render("Error",{msg:"当前没有媒体信息"}));return void r("#pager").html("")}n.render(+e.page),l.html(i.render("infosList",{list:e.list}))}})}var t,n,r=require("jquery"),i=require("etpl"),o=require("common/header"),a=require("common/ui/Pager/Pager"),s=require("common/data"),l=require("common/Remoter"),m=new l("COMPANY_INFOS_LIST"),c=require("./list.tpl");return{init:e}});