define("my/extract/index",["require","jquery","common/header","common/Remoter"],function(require){function e(){n.init(),t()}function t(){r("#search-ipt").on({focus:function(){r("#money-error").html("")},blur:function(){var e=r(this).val();if(!e)return r("#money-error").html("输入金额不能为空"),void r(this).addClass("current");if(isNaN(e))r("#money-error").html("输入金额只能为数字"),r(this).addClass("current")}}),r("#sms-ipt").blur(function(){var e=r.trim(r(this).val());if(!e)return r("#smscode-error").html("验证码不能为空"),void r(this).addClass("current");else return void o.remote({vericode:e,type:6})}),o.on("success",function(e){if(e&&e.bizError)alert(e.statusInfo)}),r(".get-sms").click(function(e){e.preventDefault();var t=r(".get-sms").attr("data-value");s.remote({phone:t,type:6})}),s.on("success",function(e){var t=60;if(e&&e.bizError)alert(e.statusInfo);else{var n=r("#testing-wait");n.text("60秒后重新发送"),n.addClass("show");var i=setInterval(function(){if(n.text(--t+"秒后重新发送"),0>t)clearInterval(i),n.removeClass("show")},1e3)}}),r("#submit").click(function(){var e=r("#search-ipt"),t=e.val(),n=r("#sms-ipt"),i=n.val();if(!t)return r("#money-error").html("输入金额不能为空"),void e.addClass("current");if(isNaN(t))return r("#money-error").html("输入金额只能为数字"),void e.addClass("current");if(r(".ext-ipt.current").trigger("blur"),!i)return r("#smscode-error").html("验证码不能为空"),void n.addClass("current");else return void r("#extract")[0].submit()})}var r=require("jquery"),n=require("common/header"),i=require("common/Remoter"),o=new i("REGIST_CHECKSMSCODE_CHECK"),s=new i("REGIST_SENDSMSCODE_CHECK");return{init:e}});