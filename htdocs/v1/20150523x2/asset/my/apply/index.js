define("my/apply/index",["require","jquery","etpl","moment","common/data","common/header","common/ui/Pager/Pager","common/Remoter","./list.tpl"],function(require){function e(){s=l("#my-apply-list"),a=l("#my-apply-pager"),c.init(),u.compile(m),h.remote({page:1}),t(),n()}function t(){}function n(){h.on("success",function(e){if(e.bizError)r(e);else{if(!e.list.length)return o=null,a.html(""),void s.html(u.render("Error",{msg:"您当前没有数据哟"}));if(!o)o=new p(l.extend({},f.pagerOpt,{main:a,total:+e.pageall})),o.on("change",function(e){h.remote({page:e.value})});o.render(+e.page),i("returnApplyList",e)}}),h.on("fail",function(e){r(e)})}function i(e,t){o.setOpt("pageall",+t.pageall),o.render(+t.page),s.html(u.render(e,{list:t.list}))}function r(e){s.render(u.render("Error",{msg:e.statusInfo}))}var o,s,a,l=require("jquery"),u=require("etpl"),f=(require("moment"),require("common/data")),c=require("common/header"),p=require("common/ui/Pager/Pager"),d=require("common/Remoter"),h=new d("MY_APPLY_GET"),m=require("./list.tpl");return{init:e}});