define("my/extract/index",function(require){function e(){r.init(),t()}function t(){n("#search-ipt").on({focus:function(){n("#money-error").html("")},blur:function(){var e=n(this).val();if(!e)return n("#money-error").html("输入金额不能为空"),void n(this).addClass("current");if(isNaN(e))n("#money-error").html("输入金额只能为数字"),n(this).addClass("current")}}),n("#sms-ipt").blur(function(){var e=n.trim(n(this).val()),t=n(".get-sms").attr("data-value");if(!e)return n("#smscode-error").html("验证码不能为空"),void n(this).addClass("current");else return void s.remote({phone:t,vericode:e,type:6})}),s.on("success",function(e){if(e&&e.bizError)alert(e.statusInfo)}),n(".get-sms").click(function(e){e.preventDefault();var t=n(".get-sms").attr("data-value");o.remote({phone:t,type:6})}),o.on("success",function(e){var t=60;if(e&&e.bizError)alert(e.statusInfo);else{var r=n("#testing-wait");r.text("60秒后重新发送"),r.addClass("show");var i=setInterval(function(){if(r.text(--t+"秒后重新发送"),0>t)clearInterval(i),r.removeClass("show")},1e3)}}),n("#submit").click(function(){n("#extract").trigger("submit")}),n("#extract").on("submit",function(){var e=n("#search-ipt"),t=e.val(),r=n("#sms-ipt"),i=r.val();if(!t)return n("#money-error").html("输入金额不能为空"),e.addClass("current"),!1;if(isNaN(t))return n("#money-error").html("输入金额只能为数字"),e.addClass("current"),!1;if(n(".ext-ipt.current").trigger("blur"),!i)return n("#smscode-error").html("验证码不能为空"),r.addClass("current"),!1;else return void 0})}var n=require("jquery"),r=require("common/header"),i=require("common/Remoter"),s=new i("REGIST_CHECKSMSCODE_CHECK"),o=new i("REGIST_SENDSMSCODE_CHECK");return{init:e}});